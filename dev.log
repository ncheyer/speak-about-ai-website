
> speak-about-ai-website@0.1.0 dev
> next dev

   â–² Next.js 15.2.4
   - Local:        http://localhost:3000
   - Network:      http://192.168.1.191:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 1706ms
 âœ“ Compiled /middleware in 198ms (104 modules)
 â—‹ Compiling /api/projects ...
 âœ“ Compiled /api/projects in 727ms (363 modules)
 GET /api/projects 401 in 847ms
 â—‹ Compiling /admin ...
 âœ“ Compiled /admin in 2.6s (905 modules)
 GET /admin 200 in 3094ms
 âœ“ Compiled in 465ms (402 modules)
 âœ“ Compiled in 54ms (388 modules)
 â—‹ Compiling /api/auth/login ...
 âœ“ Compiled /api/auth/login in 513ms (913 modules)
 POST /api/auth/login 401 in 1598ms
 âœ“ Compiled in 198ms (402 modules)
 âœ“ Compiled /api/debug-env in 133ms (916 modules)
 GET /api/debug-env 200 in 160ms
 POST /api/auth/login 401 in 1019ms
 âœ“ Compiled in 232ms (402 modules)
 POST /api/auth/login 401 in 1013ms
 âœ“ Compiled in 382ms (492 modules)
 âœ“ Compiled in 246ms (402 modules)
 âœ“ Compiled in 406ms (402 modules)
 âœ“ Compiled /api/projects in 218ms (93 modules)
Fetching all projects from database...
Successfully fetched 2 projects
 GET /api/projects 200 in 1346ms
 âœ“ Compiled /api/invoices in 206ms (479 modules)
Invoices API error: Error [NeonDbError]: column i.project_id does not exist
    at async GET (app/api/invoices/route.ts:13:21)
  11 |     if (authError) return authError
  12 |
> 13 |     const invoices = await sql`
     |                     ^
  14 |       SELECT 
  15 |         i.*,
  16 |         p.event_title as project_title, {
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '143',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn',
  sourceError: undefined
}
 GET /api/invoices 500 in 1071ms
 âœ“ Compiled /api/migrate-invoices in 121ms (481 modules)
Running invoices and portal tables migration...
Migration error: Error [NeonDbError]: column "project_id" does not exist
    at async POST (app/api/migrate-invoices/route.ts:33:4)
  31 |
  32 |     // Create indexes for performance
> 33 |     await sql`CREATE INDEX IF NOT EXISTS idx_invoices_project_id ON invoices(project_id)`
     |    ^
  34 |     await sql`CREATE INDEX IF NOT EXISTS idx_invoices_status ON invoices(status)`
  35 |     await sql`CREATE INDEX IF NOT EXISTS idx_invoices_due_date ON invoices(due_date)`
  36 |     await sql`CREATE INDEX IF NOT EXISTS idx_invoices_issue_date ON invoices(issue_date)` {
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'indexcmds.c',
  line: '1888',
  routine: 'ComputeIndexAttrs',
  sourceError: undefined
}
 POST /api/migrate-invoices 500 in 1590ms
 âœ“ Compiled /api/migrate-stage-completion in 109ms (479 modules)
Running stage completion schema migration...
Stage completion migration completed successfully!
 POST /api/migrate-stage-completion 200 in 1701ms
 âœ“ Compiled in 260ms (402 modules)
 â—‹ Compiling /admin/projects ...
 âœ“ Compiled /admin/projects in 2.1s (1103 modules)
 GET /admin/projects 200 in 2345ms
 GET /admin/projects 200 in 81ms
 âœ“ Compiled /api/analytics/page-view in 502ms (1098 modules)
 POST /api/analytics/page-view 400 in 574ms
 âœ“ Compiled /api/invoices in 422ms (1118 modules)
Fetching all projects from database...
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 134ms (1120 modules)
Invoices API error: Error [NeonDbError]: column i.project_id does not exist
    at async GET (app/api/invoices/route.ts:13:21)
  11 |     if (authError) return authError
  12 |
> 13 |     const invoices = await sql`
     |                     ^
  14 |       SELECT 
  15 |         i.*,
  16 |         p.event_title as project_title, {
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '143',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn',
  sourceError: undefined
}
 GET /api/invoices 500 in 1450ms
Successfully fetched 2 projects
 GET /api/projects 200 in 1605ms
 GET /api/speakers 200 in 1716ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1035ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 3839ms
 âœ“ Compiled /api/projects/[id]/stage-completion in 432ms (1099 modules)
 POST /api/projects/1/stage-completion 405 in 969ms
Error: Route "/api/projects/[id]/stage-completion" used `params.id`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at PATCH (app/api/projects/[id]/stage-completion/route.ts:16:38)
  14 |     if (authError) return authError
  15 |
> 16 |     const projectId = parseInt(params.id)
     |                                      ^
  17 |     if (isNaN(projectId)) {
  18 |       return NextResponse.json({ error: "Invalid project ID" }, { status: 400 })
  19 |     }
 PATCH /api/projects/1/stage-completion 200 in 1622ms
Error: Route "/api/projects/[id]/stage-completion" used `params.id`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at GET (app/api/projects/[id]/stage-completion/route.ts:130:38)
  128 |     if (authError) return authError
  129 |
> 130 |     const projectId = parseInt(params.id)
      |                                      ^
  131 |     if (isNaN(projectId)) {
  132 |       return NextResponse.json({ error: "Invalid project ID" }, { status: 400 })
  133 |     }
Error fetching project stage completion: Error [NeonDbError]: column "event_title" does not exist
    at async GET (app/api/projects/[id]/stage-completion/route.ts:135:22)
  133 |     }
  134 |
> 135 |     const [project] = await sql`
      |                      ^
  136 |       SELECT 
  137 |         id,
  138 |         event_title, {
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: 'Perhaps you meant to reference the column "projects.event_date" or the column "projects.event_type".',
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3737',
  routine: 'errorMissingColumn',
  sourceError: undefined
}
 GET /api/projects/1/stage-completion 500 in 742ms
 âœ“ Compiled /api/projects in 139ms (618 modules)
Fetching all projects from database...
Successfully fetched 2 projects
 GET /api/projects 200 in 1048ms
 âœ“ Compiled in 524ms (1117 modules)
 GET /admin/projects 200 in 60ms
 âœ“ Compiled /[slug] in 92ms (629 modules)
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 167ms (631 modules)
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1667ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1978ms
 GET /api/speakers 200 in 1565ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled in 308ms (1130 modules)
 GET /admin/projects 200 in 50ms
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1475ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1600ms
 GET /api/speakers 200 in 1538ms
ðŸŽ¯ Fetched 74 speakers from database
 GET /api/projects/1/stage-completion 200 in 693ms
 PATCH /api/projects/1/stage-completion 200 in 1400ms
 GET /api/projects/1/stage-completion 200 in 817ms
 âœ“ Compiled in 721ms (1181 modules)
 GET /admin/projects 200 in 396ms
 GET /admin/projects 200 in 15ms
 âœ“ Compiled /[slug] in 107ms (605 modules)
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 81ms (622 modules)
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1603ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1930ms
 GET /api/speakers 200 in 1430ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled /api/migrate-invoices-fix in 462ms (1112 modules)
Running invoices table fix migration...
Added project_id column to invoices table
Created index on project_id
 POST /api/migrate-invoices-fix 200 in 2538ms
 âœ“ Compiled /api/invoices in 355ms (614 modules)
Invoices API error: Error [NeonDbError]: column p.event_title does not exist
    at async GET (app/api/invoices/route.ts:13:21)
  11 |     if (authError) return authError
  12 |
> 13 |     const invoices = await sql`
     |                     ^
  14 |       SELECT 
  15 |         i.*,
  16 |         p.event_title as project_title, {
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: 'Perhaps you meant to reference the column "p.event_date" or the column "p.event_type".',
  position: '37',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3737',
  routine: 'errorMissingColumn',
  sourceError: undefined
}
 GET /api/invoices 500 in 1327ms
 âœ“ Compiled in 527ms (1113 modules)
 GET /admin/projects 200 in 67ms
 âœ“ Compiled /[slug] in 85ms (625 modules)
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 115ms (627 modules)
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1600ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1928ms
 GET /api/speakers 200 in 1447ms
ðŸŽ¯ Fetched 74 speakers from database
 GET /api/invoices 200 in 701ms
 âœ“ Compiled /api/projects in 449ms (616 modules)
Fetching all projects from database...
Successfully fetched 2 projects
 GET /api/projects 200 in 1500ms
Fetching all projects from database...
Successfully fetched 2 projects
 GET /api/projects 200 in 929ms
Fetching all projects from database...
Successfully fetched 2 projects
 GET /api/projects 200 in 1040ms
 âœ“ Compiled in 1009ms (1115 modules)
 GET /admin/projects 200 in 64ms
 âœ“ Compiled /[slug] in 103ms (627 modules)
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 63ms (629 modules)
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1535ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1897ms
 GET /api/speakers 200 in 1478ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled in 474ms (1128 modules)
 GET /admin/projects 200 in 52ms
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1712ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /api/speakers 200 in 1401ms
 GET /site.webmanifest 404 in 1846ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled in 354ms (1128 modules)
 GET /admin/projects 200 in 66ms
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1423ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1512ms
 GET /api/speakers 200 in 1424ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled in 489ms (1128 modules)
 GET /admin/projects 200 in 53ms
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1468ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1584ms
 GET /api/speakers 200 in 1442ms
ðŸŽ¯ Fetched 74 speakers from database
 GET /admin/projects 200 in 71ms
Fetching all projects from database...
Successfully fetched 2 projects
 GET /api/projects 200 in 1012ms
 âœ“ Compiled in 661ms (1115 modules)
 GET /admin/projects 200 in 92ms
 âœ“ Compiled /[slug] in 111ms (627 modules)
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 67ms (629 modules)
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1498ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1828ms
 GET /api/speakers 200 in 1415ms
ðŸŽ¯ Fetched 74 speakers from database
 GET /admin/projects 200 in 122ms
 â—‹ Compiling /api/analytics/events ...
 âœ“ Compiled /api/analytics/events in 528ms (1097 modules)
 POST /api/analytics/events 400 in 633ms
 âœ“ Compiled in 329ms (499 modules)
 GET /admin/projects 200 in 67ms
 âœ“ Compiled /[slug] in 157ms (623 modules)
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 âœ“ Compiled /api/speakers in 166ms (625 modules)
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1916ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 2354ms
 GET /api/speakers 200 in 1588ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled in 531ms (499 modules)
 GET /admin/projects 200 in 74ms
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1514ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1890ms
 GET /api/speakers 200 in 1421ms
ðŸŽ¯ Fetched 74 speakers from database
 âœ“ Compiled in 543ms (499 modules)
 GET /admin/projects 200 in 25ms
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
ðŸ”„ getAllSpeakers called - fetching from database
 GET /api/speakers 200 in 1443ms
ðŸŽ¯ Fetched 74 speakers from database
ðŸŽ¯ Fetched 74 speakers from database
 GET /site.webmanifest 404 in 1505ms
 GET /api/speakers 200 in 1401ms
ðŸŽ¯ Fetched 74 speakers from database
